---
---

$nyplred: #ed1c24;
$nypldarkgreen: #437529;
$nypllightgreen: lighten($nypldarkgreen, 20%);

$basefontsize: 18px;
$pagecolor: darken(#fff, 3%);
$textcolor: darken(#424143, 10%);
$headingcolor: darken(#67666A, 10%);
$linkcolor: $nypldarkgreen;
$bubblecolor: lighten($pagecolor, 10%);
$iconcolor: #807F83;
$radius: 10px;
$linkmargin: 60px;
$linksize: 30px;
$iconsize: 150px;
$mapwidth: 460px;
$contentwidth: 1024px;
$projectborder: 3px;
$timelinearrow: 1rem;

$mainbreakpoint: 800px; //$contentwidth;
$mobilebreakpoint: 800px;

@mixin clearfix {
  &:after {
    content: "";
    display: table;
    clear: both;
  }
}

html {
  box-sizing: border-box;
}

*, *:before, *:after {
  box-sizing: inherit;
}

html {
  background-color: $pagecolor;
  font-size: $basefontsize;
  line-height: 1.65;

  @media screen and (max-width: $mainbreakpoint) {
    font-size: $basefontsize * 0.8;
    line-height: 1.65 * 0.8;
  }
}

body {
  margin: 0 auto;
  padding: 0;

  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 17px;

  color: $textcolor;
  background-color: $pagecolor;
}

h1, h2, h3, h4, h5, h6 {
  color: $headingcolor;
  line-height: 1.3;

  @media screen and (max-width: $mainbreakpoint) {
    line-height: 1.2;
  }
}

h1 {
  font-size: 3rem;
  line-height: 1.2;
  text-transform: uppercase;
  margin-top: 0;
  margin-bottom: 0;

  @media screen and (max-width: $mainbreakpoint) {
    // font-size: 3rem;
  }

  @media screen and (max-width: $mobilebreakpoint) {
    // text-align: center;
    // font-size: 2rem;
  }
}

h2 {
  margin-top: 0.5rem;
  margin-left: -8rem;

  @media screen and (max-width: $mainbreakpoint) {
    margin-left: 0;
  }
}


.anchor {
  a {
    text-decoration: none;
    border: none;
    float: left;
    padding-right: 4px;
    margin-left: -24px;
  }

  & a svg {
    color: #000;
    vertical-align: middle;
    visibility: hidden;
  }

  &:hover svg {
    visibility: visible;
  }
}

p {
  max-width: 36rem;
  margin-top: 0;

  &.tagline {
    margin-top: 0.5rem;
    margin-left: -8rem;
    color: $headingcolor;
    line-height: 1.3;
    font-size: 1.5em;

    @media screen and (max-width: $mainbreakpoint) {
      margin-left: 0;
      line-height: 1;
    }
  }

  &.major-headline {
  }

  &.minor-headline {
    max-width: 60rem;
    font-size: 1.5rem;
  }

  @media screen and (max-width: $mainbreakpoint) {
    max-width: none;
    // line-height: 1.3;
  }
}

blockquote {
  margin: 0;
  font-size: 2rem;
  line-height: 1.5;
  margin-bottom: 1em;

  @media screen and (max-width: $mainbreakpoint) {
    font-size: 1.5rem;
  }
}

a {
  color: $linkcolor;
  border-bottom: 1px solid $linkcolor;
  text-decoration: none;

  &:visited {
    color: $linkcolor;
  }

  &:hover {
    color: $linkcolor;
  }

  &.noborder {
    border: none;
  }

  &[name] {
    text-decoration: none;
    border: none;
  }
}

a.no-border {
  border: none;
}

b, strong {
  // @include titlestyle;
}

samp {
  display: none;
}

ul, li {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.centered {
  text-align: center;
}

#skip a {
  border: none;
  color: $linkcolor;
  display: block;
  font-size: 13px;
  position: absolute;
  left: -10000px;
  line-height: 2;
  top: 7px;
  width: 1px;
  height: 1px;
  overflow: hidden;
  padding: 5px 10px 3px;
  z-index: 1000;

  &:focus {
    box-shadow: 0 0 5px $linkcolor;
    outline: 0;
    left: 7px;
    width: auto;
    height: auto;
    overflow: visible;
  }
}

/**/
#header {
  border-top: 2px solid $nypldarkgreen;
  background: white;
  .content {
    padding: 2rem 1rem 2rem 2rem;
  }
}

.nypllogo {
  display: block;
  // float: left;
  height: 4rem;
  width: 7rem;
  overflow: hidden;
  background: url("{{ site.baseurl}}/images/nypl.svg") no-repeat scroll 0px 0px/7rem auto white;
  text-indent: 12rem;
  white-space: nowrap;

  @media screen and (max-width: $mainbreakpoint) {
    background: url("{{ site.baseurl}}/images/nypl_mark.svg") no-repeat scroll 0px 0px/3rem auto white;
    height: 3.1rem;
    width: 3rem;
    // float: none;
    // margin: 0 auto;
    // text-align: center;
  }

}

#subheader {
  background: black no-repeat center -3rem fixed url({{ site.baseurl}}/images/subheader.jpg);
  background-size: auto;
  color: white;
  padding: 2rem 0;

  .content {
  }

  h1, h2, .tagline {
    margin: 0;
    color: white;
  }

  h1 {
    @media screen and (max-width: $mainbreakpoint) {
      font-size: 2rem;
    }
  }

  @media screen and (max-width: $mainbreakpoint) {
    // background-size: auto;
    background-position: center -11rem;
  }
}

.knightlogo {
  display: inline-block;
  width: 200px;
  height: 33px;
}

/* MAIN STRUCTURE */
.content {
  max-width: $contentwidth;
  margin: 0 auto;
  padding: 2rem 1rem 0;
  padding-left: (8.25rem + 1.8124rem);
  overflow: hidden;

  @media screen and (max-width: $mainbreakpoint) {
    margin: 0 auto;
    padding: 2rem;
  }

  img {
    width: 100%;
  }
}

#footer {
  margin-top: 20rem;
  margin-bottom: 20rem;
  font-size: 0.7rem;
  line-height: 1.4;

  p {
    max-width: 40rem;
    text-align: center;
  }

  .nypl {
    color: $textcolor;
    display: block;
  }

  .nypl-icon {
    width: 2.5em;
    display: block;
    margin: 0 auto;
    padding: 5px;
  }

}

.table-container {
  width: 100%;
  overflow-x: auto;
}

table {
  width: 100%;
  border-spacing: 0;
  border-collapse: collapse;
  margin-bottom: 2rem;
}

table thead tr th {
  text-align: left;
  border-bottom: 3px solid #437529;
  font-weight: bold;
}

.monospace-name {
  font-family: monospace;
  white-space: nowrap;
}

table .project-description {
  padding: .5em;
}

.dataset-details-on {
  display: none;
}

.dataset-details-on table {
  margin-bottom: 0;
  margin-left: 1em;
}

.dataset-details-on table td {
  padding: 3px 0;
}

.dataset-details-on table td:first-child:not(:last-child) {
  white-space: nowrap;
}

.dataset-details-on table td:first-child:not(:last-child):after {
  content: ":";
}

.dataset-details-period {
  padding: 0;
  margin: 0;
  padding-right: 1em;
  height: 100px;
  width: 100%;
  display: flex;
}

svg.dataset-details-period .dataset-details-period-bar {
  fill: #437529;
}

svg.dataset-details-period .dataset-details-period-hover {
  fill: none;
  pointer-events: all;
}

svg.dataset-details-period .dataset-details-period-line {
  stroke-dasharray: 3, 6;
  stroke-width: 1px;
  stroke: rgba(0, 0, 0, 0.3);
}

.dataset-details-period-hover-box {
  display: none;
  position: fixed;
  pointer-events: none;
  text-align: center;
  line-height: 1.2em;
}

.dataset-details-period-hover-box-year {
  font-family: "kievit bold";
}

.arrow-box {
  left: -50%;
  position: relative;
  background: #ffffff;
  border: 2px solid #1e6907;
  padding: 5px;
  border-radius: 5px;
}

.arrow-box:after, .arrow-box:before {
  top: 100%;
  left: 50%;
  border: solid transparent;
  content: " ";
  height: 0;
  width: 0;
  position: absolute;
  pointer-events: none;
}

.arrow-box:after {
  border-color: rgba(255, 255, 255, 0);
  border-top-color: #ffffff;
  border-width: 10px;
  margin-left: -10px;
}

.arrow-box:before {
  //rgb(67, 117, 41)
  border-color: rgba(30, 105, 7, 0);
  border-top-color: #1e6907;
  border-width: 13px;
  margin-left: -13px;
}

tr.no-padding-bottom td {
  padding-bottom: 0;
}

tr.no-padding-top td {
  padding-top: 0;
}

.footnote {
  padding: .5em;
  width: 100%;
  font-style: italic;
}

table tbody tr.odd {
  background-color: #f4f4f4;
}

table td, table th {
  vertical-align: top;
  padding: 16px;
}

table th {
  padding-bottom: 4px;
}

#projects {
  @include clearfix;
}

h2.bordered {
  border-top: 1px solid $textcolor;
  padding-top: 1em;
}

.projects {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  justify-content: space-between;
}

pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #eee;
  border-radius: 3px;
}

code {
  word-break: normal;
  white-space: pre;
  max-width: auto;
  line-height: inherit;
  word-wrap: normal;
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
}

.dataset-type {
  display: inline-block;
  color: #f7f7f7;
  padding: 0px 6px;
  border-radius: 4px;
  font-weight: bold;
}

.dataset-name {
  display: inline-block;
  background-color: rgba(0, 0, 0, 0.08);
  padding: 0px 6px;
  border-radius: 4px;
}

.dataset-type-draft {
  background-color: #15bdb9;
}

.dataset-type-crowdsourced {
  background-color: #ff00b3;
}

.dataset-type-inferred {
  background-color: #d34026;
}

dl.dataset-types dd, dl.dataset-types dt {
  margin-bottom: .5em;
}

.projects li {
  width: 32%;
  box-sizing: border-box;

  @media screen and (max-width: $mainbreakpoint) {
    width: 100%;
  }
}

.contribute {
  position: absolute;
  display: block;
  background-color: $linkcolor;
  border-radius: .3rem;
  border: 2px solid $linkcolor;
  color: white;
  text-transform: uppercase;
  text-align: center;

  right: .5rem;
  top: .5rem;
  // transition: all 0.1s;
  padding: 0.3rem .5rem 0;

  &:link, &:visited {
    color: white;
  }

  // &:hover {
  //   color: $nypldarkgreen;
  //   border-color: $nypldarkgreen;
  //   background-color: white;
  // }

  // @media screen and (max-width: $mainbreakpoint) {
  //   top: -7rem;
  // }
}

li.project-container {
  background-color: $pagecolor;
  margin-bottom: 2rem;

  h3 {

    padding: 1rem 0 0 0;
    background-color: $pagecolor;
    line-height: 1.2;
    margin: 0;
    border-top: $projectborder solid $linkcolor;

    @media screen and (max-width: $mainbreakpoint) {
      width: 100%;
      position: absolute;
      bottom: 0;
    }
  }

  p {
    padding: 0;
    max-width: 100%;
  }

  .project-image-container {
    position: relative;
    margin-bottom: 0;
    overflow: hidden;

    a {
      display: block;
      // width: 100%;
      // height: 100%;
      overflow: hidden;
      z-index: 1;
    }

    img.project-image {
      display: block;
      width: 100%;
    }

    @media screen and (max-width: $mainbreakpoint) {
      max-height: 300px;
      overflow: hidden;
    }
  }

  .project-description {
    padding-top: 1rem;
    position: relative;
  }

  &.featured {
    width: 100%;

    h3 {
      font-size: 2rem;
      bottom: 0;
      left: 0;
      background-color: $pagecolor;
      line-height: 1.2;
      margin: 0;
      border-top: $projectborder solid $linkcolor;
      // width: 50%;
      -webkit-box-decoration-break: clone;

      @media screen and (max-width: $mainbreakpoint) {
        width: 100%;
      }
    }

    .cta {
      top: -2rem;

      @media screen and (max-width: $mainbreakpoint) {
        top: -7rem;
      }
    }

    .project-image-container {
      //height: 20rem;

      @media screen and (max-width: $mainbreakpoint) {
        height: auto;
      }
    }

  }

  &.project {
    width: 49%;

    h3 {
      font-size: 1.5rem;
    }

    @media screen and (max-width: $mainbreakpoint) {
      width: 100%;
    }
  }

}
